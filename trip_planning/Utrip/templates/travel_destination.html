{% extends 'base.html' %}
{% load static %}
{% block content %}

<section class="hero-wrap hero-wrap-2" style="background-image: url({% static 'images/bg_1.jpeg' %})" data-stellar-background-ratio="0.5">
    <div class="overlay"></div>
    <div class="container">
        <div class="row no-gutters slider-text js-fullheight align-items-center justify-content-center">
            <div class="col-md-9 ftco-animate pb-0 text-center">
                <p class="breadcrumbs">
                    <span class="mr-2"><a href="index.html">Home <i class="fa fa-chevron-right"></i></a></span>
                    <span>Destinations <i class="fa fa-chevron-right"></i></span>
                </p>
                <h1 class="mb-3 bread">Explore Destinations</h1>
            </div>
        </div>
    </div>
</section>

<section class="ftco-section ftco-agent">
  <!-- Filter Form -->
<form method="get" action="" class="mb-4 p-4 shadow rounded-4 bg-light">
    <div class="row g-3">
        <!-- Search Keyword -->
        <div class="col-md-3">
            <div class="input-group">
                <span class="input-group-text bg-primary text-white"><i class="fas fa-search"></i></span>
                <input type="text" name="keyword" class="form-control" placeholder="Search by keyword" value="{{ keyword }}">
            </div>
        </div>

        <!-- Category Selection -->
        <div class="col-md-3">
            <select name="category" class="form-select">
                <option value="">-- Select Category --</option>
                {% for cat in categories %}
                    <option value="{{ cat.category_name }}" {% if cat.category_name == category %}selected{% endif %}>
                        {{ cat.category_name }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- City Selection -->
        <div class="col-md-3">
            <select name="city" class="form-select">
                <option value="">-- Select City --</option>
                {% for city in cities %}
                    <option value="{{ city.name }}" {% if city.name == city %}selected{% endif %}>
                        {{ city.name }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- Spot Name -->
        <div class="col-md-3">
            <div class="input-group">
                <span class="input-group-text bg-warning text-white"><i class="fas fa-map-marker-alt"></i></span>
                <input type="text" name="spot" class="form-control" placeholder="Spot Name" value="{{ spot }}">
            </div>
        </div>
    </div>

    <!-- Submit Button -->
    <div class="text-center mt-3">
        <button type="submit" class="btn btn-success px-4">
            <i class="fas fa-filter"></i> Apply Filter
        </button>
    </div>
</form>

<!-- FontAwesome for Icons -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>


    <!-- Destinations List -->
    <div class="container">
        <div class="row">
            {% for destination in destinations %}
                <div class="col-md-4 mb-4">
                    <div class="destination-box border p-3" style="background-image: url('{{ destination.img1.url }}'); background-size: cover; background-position: center;">
                        <h3>{{ destination.destination_spot }}</h3>
                        <p>City: {{ destination.city.name }}</p>
                        <p>Category: {{ destination.category.category_name }}</p>
                        <a href="{% url 'destination_details' destination.destination_spot %}" class="btn btn-primary">Explore More</a>
                    </div>
                </div>
            {% endfor %}
        </div>
		
    </div>
</section>

{% endblock %}
